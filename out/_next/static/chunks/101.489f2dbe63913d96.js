(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101,469,702],{1482:function(e,b,a){"use strict";a.d(b,{v:function(){return g}});var c=a(45624),d=a(37202),f=a.n(d);class g extends c.J5{async authenticateUser(){var b;if(!this.provider||!(null!==(b=this.chainConfig)&& void 0!==b&&b.chainId))throw c.RM.notConnectedError();const{chainNamespace:e,chainId:i}=this.chainConfig;if(this.status!==c.MP.CONNECTED)throw c.RM.notConnectedError("Not connected with wallet, Please login/connect first");const a=await this.provider.request({method:"getAccounts"});if(a&&a.length>0){const d=(0,c.Cb)(a[0],this.name);if(d){const j=(0,c.$E)(d);if(!j)return{idToken:d}}const k={domain:window.location.origin,uri:window.location.href,address:a[0],chainId:parseInt(i,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},g=await (0,c.tV)(k,e),l=new TextEncoder().encode(g),m=await this.provider.request({method:"signMessage",params:{message:l,display:"utf8"}}),h=await (0,c.rn)(e,f().encode(m),g,this.name,this.sessionTime);return(0,c.Fr)(a[0],this.name,h),{idToken:h}}throw c.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnect(){if(this.status!==c.MP.CONNECTED)throw c.RM.disconnectionError("Not connected with wallet");const a=await this.provider.request({method:"getAccounts"});a&&a.length>0&&(0,c.qz)(a[0],this.name)}}},55777:function(a){"use strict";a.exports=function(a){if(a.length>=255)throw new TypeError("Alphabet too long");for(var b=new Uint8Array(256),d=0;d<b.length;d++)b[d]=255;for(var c=0;c<a.length;c++){var e=a.charAt(c),f=e.charCodeAt(0);if(255!==b[f])throw new TypeError(e+" is ambiguous");b[f]=c}var g=a.length,i=a.charAt(0),j=Math.log(g)/Math.log(256),k=Math.log(256)/Math.log(g);function h(c){if("string"!=typeof c)throw new TypeError("Expected String");if(0===c.length)return new Uint8Array;for(var d=0,l=0,m=0;c[d]===i;)l++,d++;for(var e=(c.length-d)*j+1>>>0,h=new Uint8Array(e);c[d];){var a=b[c.charCodeAt(d)];if(255===a)return;for(var n=0,k=e-1;(0!==a||n<m)&& -1!==k;k--,n++)a+=g*h[k]>>>0,h[k]=a%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");m=n,d++}for(var f=e-m;f!==e&&0===h[f];)f++;for(var o=new Uint8Array(l+(e-f)),p=l;f!==e;)o[p++]=h[f++];return o}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===b.length)return"";for(var o=0,l=0,c=0,m=b.length;c!==m&&0===b[c];)c++,o++;for(var f=(m-c)*k+1>>>0,h=new Uint8Array(f);c!==m;){for(var d=b[c],n=0,j=f-1;(0!==d||n<l)&& -1!==j;j--,n++)d+=256*h[j]>>>0,h[j]=d%g>>>0,d=d/g>>>0;if(0!==d)throw new Error("Non-zero carry");l=n,c++}for(var e=f-l;e!==f&&0===h[e];)e++;for(var p=i.repeat(o);e<f;++e)p+=a.charAt(h[e]);return p},decodeUnsafe:h,decode:function(b){var a=h(b);if(a)return a;throw new Error("Non-base"+g+" character")}}}},37202:function(a,d,b){const c=b(55777);a.exports=c("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},42848:function(d,b,a){"use strict";a.r(b),a.d(b,{PhantomAdapter:function(){return j}});var e=a(4942),f=a(45624),c=a(1482),g=a(44445);function h(a,b,c){return new Promise((d,e)=>{c>0?setTimeout(async()=>{const f=await a();f&&d(f),f||h(a,b,c-1).then(a=>(d(a),a)).catch(a=>e(a))},b):d(!1)})}const i=async function(){var a;let b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3};const c="undefined"!=typeof window&&!!(null!==(a=window.solana)&& void 0!==a&&a.isPhantom);if(c)return window.solana;const d=await h(()=>{var a;return null===(a=window.solana)|| void 0===a?void 0:a.isPhantom},b.interval,b.count);return d?window.solana:null};class j extends c.v{constructor(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};super(),(0,e.Z)(this,"name",f.rW.PHANTOM),(0,e.Z)(this,"adapterNamespace",f.yk.SOLANA),(0,e.Z)(this,"currentChainNamespace",f.EN.SOLANA),(0,e.Z)(this,"type",f.hN.EXTERNAL),(0,e.Z)(this,"status",f.MP.NOT_READY),(0,e.Z)(this,"_wallet",null),(0,e.Z)(this,"phantomProvider",null),(0,e.Z)(this,"rehydrated",!1),(0,e.Z)(this,"_onDisconnect",()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===f.MP.CONNECTED?f.MP.READY:f.MP.NOT_READY,this.emit(f.n2.DISCONNECTED))}),this.chainConfig=a.chainConfig||null,this.sessionTime=a.sessionTime||86400}get isWalletConnected(){var a;return!!(null!==(a=this._wallet)&& void 0!==a&&a.isConnected&&this.status===f.MP.CONNECTED)}get provider(){var a;return(null===(a=this.phantomProvider)|| void 0===a?void 0:a.provider)||null}set provider(a){throw new Error("Not implemented")}setAdapterSettings(a){this.status!==f.MP.READY&&null!=a&&a.sessionTime&&(this.sessionTime=a.sessionTime)}async init(b){if(super.checkInitializationRequirements(),this.chainConfig||(this.chainConfig=(0,f.h2)(f.EN.SOLANA,"0x1")),this._wallet=await i({interval:500,count:3}),!this._wallet)throw f.Ty.notInstalled();this.phantomProvider=new g.PhantomInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=f.MP.READY,this.emit(f.n2.READY,f.rW.PHANTOM);try{f.cM.debug("initializing phantom adapter"),b.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(a){f.cM.error("Failed to connect with cached phantom provider",a),this.emit("ERRORED",a)}}async connect(){var d=this;try{if(super.checkConnectionRequirements(),this.status=f.MP.CONNECTING,this.emit(f.n2.CONNECTING,{adapter:f.rW.PHANTOM}),!this._wallet)throw f.Ty.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{const c=this._wallet._handleDisconnect;try{await new Promise((e,a)=>{const b=async()=>{await this.connectWithProvider(this._wallet),e(this.provider)};if(!this._wallet)return a(f.Ty.notInstalled());this._wallet.once("connect",b),this._wallet._handleDisconnect=function(){a(f.Ty.windowClosed());for(var e=arguments.length,g=new Array(e),b=0;b<e;b++)g[b]=arguments[b];return c.apply(d._wallet,g)},this._wallet.connect().catch(b=>{a(b)})})}catch(a){if(a instanceof f.up)throw a;throw f.RM.connectionError(null==a?void 0:a.message)}finally{this._wallet._handleDisconnect=c}}if(!this._wallet.publicKey)throw f.RM.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(b){throw this.status=f.MP.READY,this.rehydrated=!1,this.emit(f.n2.ERRORED,b),b}}async disconnect(){let c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnect();try{var a;await (null===(a=this._wallet)|| void 0===a?void 0:a.disconnect()),c.cleanup&&(this.status=f.MP.NOT_READY,this.phantomProvider=null,this._wallet=null),this.emit(f.n2.DISCONNECTED)}catch(b){this.emit(f.n2.ERRORED,f.RM.disconnectionError(null==b?void 0:b.message))}}async getUserInfo(){if(!this.isWalletConnected)throw f.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async connectWithProvider(a){if(!this.phantomProvider)throw f.RM.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(a),this.status=f.MP.CONNECTED,this.emit(f.n2.CONNECTED,{adapter:f.rW.PHANTOM,reconnected:this.rehydrated}),this.provider}}},7420:function(){},95856:function(){},11922:function(){},64123:function(){},78848:function(){},71456:function(){}}])